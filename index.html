<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <!-- Load c3.css -->
    <link href="node_modules/c3/c3.min.css" rel="stylesheet" type="text/css">

    <!-- Load d3.js and c3.js -->
    <script src="node_modules/d3/d3.min.js"></script>
    <script src="node_modules/c3/c3.min.js"></script>
</head>

<body>
    <div id="chart"></div>

    <script>
        var data = JSON.parse('[{"现钞买入价":"21.31","现钞卖出价":"22.98","中行折算价":"22.06","发布时间":"2017.02.01 22:00:31"},{"现钞买入价":"21.28","现钞卖出价":"22.95","中行折算价":"22.06","发布时间":"2017.02.02 22:15:56"},{"现钞买入价":"21.38","现钞卖出价":"23.05","中行折算价":"22.17","发布时间":"2017.02.03 23:33:14"},{"现钞买入价":"21.37","现钞卖出价":"23.04","中行折算价":"22.17","发布时间":"2017.02.04 15:27:54"},{"现钞买入价":"21.37","现钞卖出价":"23.04","中行折算价":"22.17","发布时间":"2017.02.05 10:30:00"},{"现钞买入价":"21.51","现钞卖出价":"23.19","中行折算价":"22.29","发布时间":"2017.02.06 23:57:18"},{"现钞买入价":"21.47","现钞卖出价":"23.15","中行折算价":"22.17","发布时间":"2017.02.07 23:29:18"},{"现钞买入价":"21.32","现钞卖出价":"22.99","中行折算价":"22.14","发布时间":"2017.02.08 23:46:24"},{"现钞买入价":"21.35","现钞卖出价":"23.02","中行折算价":"22.12","发布时间":"2017.02.09 23:54:29"},{"现钞买入价":"21.34","现钞卖出价":"23.01","中行折算价":"22.09","发布时间":"2017.02.10 23:48:36"},{"现钞买入价":"21.34","现钞卖出价":"23.01","中行折算价":"22.09","发布时间":"2017.02.11 10:30:00"},{"现钞买入价":"21.34","现钞卖出价":"23.01","中行折算价":"22.09","发布时间":"2017.02.12 10:30:00"},{"现钞买入价":"21.42","现钞卖出价":"23.1","中行折算价":"22.2","发布时间":"2017.02.13 23:36:00"},{"现钞买入价":"21.42","现钞卖出价":"23.1","中行折算价":"22.23","发布时间":"2017.02.14 23:38:52"},{"现钞买入价":"21.54","现钞卖出价":"23.23","中行折算价":"22.3","发布时间":"2017.02.15 23:36:00"},{"现钞买入价":"21.55","现钞卖出价":"23.24","中行折算价":"22.38","发布时间":"2017.02.16 23:42:09"},{"现钞买入价":"21.55","现钞卖出价":"23.24","中行折算价":"22.27","发布时间":"2017.02.17 23:49:02"},{"现钞买入价":"21.55","现钞卖出价":"23.24","中行折算价":"22.27","发布时间":"2017.02.18 21:55:21"},{"现钞买入价":"21.55","现钞卖出价":"23.24","中行折算价":"22.27","发布时间":"2017.02.19 10:30:00"},{"现钞买入价":"21.54","现钞卖出价":"23.23","中行折算价":"22.29","发布时间":"2017.02.20 23:18:25"},{"现钞买入价":"21.53","现钞卖出价":"23.22","中行折算价":"22.29","发布时间":"2017.02.21 23:35:46"},{"现钞买入价":"21.62","现钞卖出价":"23.31","中行折算价":"22.43","发布时间":"2017.02.22 23:49:53"},{"现钞买入价":"21.55","现钞卖出价":"23.24","中行折算价":"22.34","发布时间":"2017.02.23 23:41:35"},{"现钞买入价":"21.62","现钞卖出价":"23.31","中行折算价":"22.39","发布时间":"2017.02.24 23:49:32"},{"现钞买入价":"21.62","现钞卖出价":"23.31","中行折算价":"22.39","发布时间":"2017.02.25 10:30:00"},{"现钞买入价":"21.62","现钞卖出价":"23.31","中行折算价":"22.39","发布时间":"2017.02.26 10:30:00"},{"现钞买入价":"21.61","现钞卖出价":"23.3","中行折算价":"22.39","发布时间":"2017.02.27 23:48:07"}]');
        data.forEach(function (d) {
            d['发布时间'] = d['发布时间'].match(/^\d+\.\d+\.\d+/)[0].replace(/\./g, '-');
            d['现钞买入价'] = (100 / parseFloat(d['现钞买入价'])).toFixed(2);
            d['现钞卖出价'] = (100 / parseFloat(d['现钞卖出价'])).toFixed(2);
            d['中行折算价'] = (100 / parseFloat(d['中行折算价'])).toFixed(2);
        });
        var chart = c3.generate({
            data: {
                json: data,
                keys: {
                    x: '发布时间',
                    value: ['现钞买入价', '现钞卖出价', '中行折算价'],
                }
            },
            axis: {
                x: {
                    type: 'timeseries',
                    tick: {
                        format: '%Y-%m-%d'
                    }
                }
            }
        });
    </script>
</body>

</html>